************************************************project**********************************************************
CREATE PATIENT TABLE:
    CREATE TABLE PATIENT (PATIENTID INT PRIMARY KEY,FIRSTNAME VARCHAR(40),LASTNAME VARCHAR(40),DATEOFBIRTH DATE,GENDER VARCHAR(10),CONTACTINFO VARCHAR(100),ADDRESS VARCHAR(50))

CREATE DOCTOR TABLE:
    CREATE TABLE DOCTOR (DOCTORID INT PRIMARY KEY,FIRSTNAME VARCHAR(40),LASTNAME VARCHAR(40),SPECATILTY VARCHAR(100),AVALIBILITY VARCHAR(50),CONTACTINFO VARCHAR(100))

CREATE APPOINTMENT TABLE:
    CREATE TABLE APPOINTMENT(APPOINTMENTID INT PRIMARY KEY,PATIENTID INT,DOCTORID INT, APPOINTMENTDATE DATE,STATUS VARCHAR(20),
        FOREIGN KEY (PATIENTID) REFERENCES PATIENT(PATIENTID),
        FOREIGN KEY (DOCTORID) REFERENCES DOCTOR(DOCTORID)
        ); 

CREATE PRESCRIPTION TABLE:
    CREATE TABLE PRESCRIPTION(PRESCRIPTIONID INT PRIMARY KEY,PATIENTID INT,DOCTORID INT,  DATEPRESCRIBED DATE,MEDICATION VARCHAR(20),DOSAGE VARCHAR(20),
        FOREIGN KEY (PATIENTID) REFERENCES PATIENTS(PATIENTID),
        FOREIGN KEY (DOCTORID) REFERENCES DOCTORS(DOCTORID)
        );

INSERT INTO PATIENT(PATIENTID,FIRSTNAME,LASTNAME,DATEOFBIRTH,GENDER,CONTACTINFO,ADDRESS) VALUES(1,'DEVI','AKULA','01-01-2010','FEMALE','555-1234','123 Main St')
INSERT INTO DOCTOR(DOCTORID,FIRSTNAME,LASTNAME,SPECATILTY,AVALIBILITY,CONTACTINFO) VALUES(1,'ARUNA','EDHOKATI','Cardiology','Monday, Wednesday, Friday','512-1894')
INSERT INTO APPOINTMENT(APPOINTMENTID,PATIENTID,DOCTORID,APPOINTMENTDATE,STATUS) VALUES(1,1,1,'2024-10-01','Scheduled')

SELECT * FROM APPOINTMENT WHERE DOCTORID=1 AND APPOINTMENTDATE='2024-10-01'
UPDATE APPOINTMENT SET STATUS='COMPLETED' WHERE APPOINTMENTID=1
ALTER TABLE PATIENT ADD DISCHARGE VARCHAR(30)
UPDATE PATIENT SET DISCHARGE='NULL'
DELETE FROM PATIENT WHERE DISCHARGE<DATE('now', '-5 years');


SELECT a.* FROM APPOINTMENT a
JOIN PATIENT p ON a.PATIENTID = p.PATIENTID
WHERE p.FIRSTNAME = 'DEVI' OR a.APPOINTMENTDATE = '2024-10-01';

SELECT * FROM DOCTOR
WHERE SPECATILTY = 'Cardiology' AND  AVALIBILITY ='%Monday%';

 By Last Name
SELECT * FROM PATIENT
ORDER BY LASTNAME ASC;

 By Appointment Date
SELECT p.* FROM PATIENT p
JOIN APPOINTMENT a ON p.PATIENTID = a.PATIENTID
ORDER BY a.APPOINTMENTDATE ASC;

SELECT d.DOCTORID, d.FIRSTNAME, d.LASTNAME, COUNT(a.PATIENTID)
FROM DOCTOR d
JOIN APPOINTMENT a ON d.DOCTORID = a.DOCTORID
GROUP BY d.DOCTORID, d.FIRSTNAME, d.LASTNAME;

SELECT p.PATIENTID, COUNT(pr.PRESCRIPTIONID) 
FROM PATIENT p
JOIN PRESCRIPTION pr ON p.PATIENTID = pr.PATIENTID
GROUP BY p.PATIENTID;